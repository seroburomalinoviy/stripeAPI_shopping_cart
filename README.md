# 1. Описание/Что сделано
Проект содержит сервис на Django c корзиной для заказа товаров, работающей с платежной системой stripe.  

В соответствии с заданием:  
Id сессии можно получить по адресу:
```
.../buy/{id}
```
Страница с тестовым товаром:  
```
.../item/{id}
```

Также выполнены следующие дополнительные задания:  
- Запуск используя Docker
- Использование environment variables
- Просмотр Django Моделей в Django Admin панели
- Запуск приложения на удаленном сервере, доступном для тестирования
- Модель Order, в которой можно объединить несколько Item и сделать платёж в Stripe на содержимое Order c общей стоимостью всех Items


# 2. Как тестировать
На главной странице 
```
... 
```
Создана подсказка, по какому адресу необходимо перейти.
Перейдем по адресу:
```
.../item/1
```
**В базе данных созданы 3 тестовых товара, соответственно страницы id отличными от *1, 2, 3* работать не будут**.  
На полученной странице доступны две кнопки **Buy** и **Create a shopping cart**. Первая перенаправляет пользователя 
на платежную страницу stripe. Вторая кнопка перенаправляет на страницу создания заказа.
Для того чтобы протестировать работу платежно страницы stripe можно использовать следующие данные:  
- номер карты: 4242 4242 4242 4242  
- дата: 01/28  
- CVV: 123  
- почта: test@mail.ru
- имя владельца карты: test

После успешно совершённого платежа пользователь направляется на страницу благодарности. В случае неуспешной операции 
оплаты, пользователь получит страницу об отмене платежа.
### Создание заказа из нескольких товаров  
Воспользовавшись кнопкой "Create a shopping cart", пользователь попадает на страницу "корзины", где с помощью 
соответствующих 
кнопок может добавлять товары в корзину или удалять их.  
По нажатию кнопки "Create order" пользователь будет направлен на страницу платежной системы stripe, где будут 
отображены все выбранные пользователем товары.

# 3. Как запустить проект
Загрузка проекта
``` 
git clone https://github.com/seroburomalinoviy/stripeAPI_shopping_cart.git
```
Подготовка:  
1. В файл stripeApi/.env необходимо добавить следующие переменные:  
- SECRET_KEY - секретный ключ джанго проекта
- TOKEN - закрытый ключ интеграции Stripe из личного кабинета
- (необязательно) DEBUG=1 - запуск проекта в режиме отладки

Запуск проекта
```
cd stripeAPI_shopping_cart
sudo docker-compose up -d --build
```
Теперь можно перейти по адресу http://0.0.0.0:8000/item/1

# 4. Выводы
Был создан простейший аналог корзины с подключенной платежной системой Stripe.
Основной задаче данной работы было ознакомиться с StripeApi. Простое, гибкое api позволяет с минимальным 
ознакомлением создать платежную страничку со своими товарами. Яркими преимуществами сервиса являются быстрая 
настройка интеграций и оптимальная реализация api методов. 






