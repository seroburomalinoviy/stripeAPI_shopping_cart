# stripeAPI_shopping_cart
## 1. Описание/Что сделано
Проект содержит сервис на Django c корзиной для заказа товров, работающей с платежной системой stripe.  

В соответсвии с заданием:  
Id сессии можно получить по адресу:
```
.../buy/{id}
```
Страцниа с тестовым товаром:  
```
.../item/{id}
```

Также выполнены следующие дополнительные задания:  
- ~~Запуск используя Docker~~
- ~~Использование environment variables~~
- ~~Просмотр Django Моделей в Django Admin панели~~
- ~~Запуск приложения на удаленном сервере, доступном для тестирования~~
- ~~Модель Order, в которой можно объединить несколько Item и сделать платёж в Stripe на содержимое Order c общей стоимостью всех Items~~
- Модели Discount, Tax, которые можно прикрепить к модели Order и связать с соответствующими атрибутами при создании платежа в Stripe - в таком случае они корректно отображаются в Stripe Checkout форме.
- Добавить поле Item.currency, создать 2 Stripe Keypair на две разные валюты и в зависимости от валюты выбранного товара предлагать оплату в соответствующей валюте
- Реализовать не Stripe Session, а Stripe Payment Intent.

## 2. Как тестировать
На главной странице 
```
... 
```
Cоздана подсказка, по какому адресу необходимо перейти.
Перейдем по адресу:
```
.../item/1
```
**В базе данны созданы 3 тестовых товара, соотвественно страцницы id отличными от *1, 2, 3* работать не будут**.  
На полученной странице доступны две кнопки **Buy** и **Create a shopping cart**. Первая перенаправляет пользователя на платежную странтцу stripe. Вторая кнопка перенаправляет на страницу создания заказа.
Для того чтобы проетестировать работу платежно страницы stripe можно использовать следующие данные:  
- номер карты: 4242 4242 4242 4242  
- дата: 01/28  
- CVV: 123  
- почта: test@mail.ru
- имя владельца карты: test

После успешно совершённого платежа пользователь направляется на страницу благодарности. В случае неуспешной операции оплаты, пользователь получит страницу, уведомляющую о прозошедшей ошибке.  
### Создание заказа из нескольких товаров  
Воспользовавшись кнопкой "Create a shopping cart", пользователь попадает на страницу "корзины", где с помощью соотвествующих кнопок может добавлять товары в корзину или удалять их.  
По нажатию кнопки "Create order" пользователь будет направлен на страницу платежной системы stripe, где будут отображены все выбранные ползвателем товары.

# 3. Как запустить проект

